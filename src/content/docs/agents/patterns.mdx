---
pcx_content_type: concept
title: Patterns
sidebar:
  order: 3
head: []
---

import { GitHubCode } from "~/components";

Common patterns for implementing AI agents, based on [Anthropic's research on agent patterns](https://www.anthropic.com/research/building-effective-agents).

Code samples use the [AI SDK](https://sdk.vercel.ai/docs/foundations/agents), running in Cloudflare's Durable Objects.

## Prompt Chaining

Decomposes tasks into a sequence of steps, where each LLM call processes the output of the previous one.

![Figure 1: Prompt Chaining](~/assets/images/agnets/01-sequential.png "Figure 1: Prompt Chaining")

[**Interactive Demo**](https://patterns.agents.workers.dev)

<GitHubCode
	repo="cloudflare/agents"
	file="examples/anthropic-patterns/src/flows/01-sequential.txt"
	commit="3b8959063c17d53e27a3040670d9cbf8a95644e1"
	lang="ts"
/>

## Routing

Classifies input and directs it to specialized followup tasks, allowing for separation of concerns.

![Figure 2: Routing](~/assets/images/agnets/02-routing.png "Figure 2: Routing")

[**Interactive Demo**](https://patterns.agents.workers.dev)

<GitHubCode
	repo="cloudflare/agents"
	file="examples/anthropic-patterns/src/flows/02-routing.txt"
	commit="3b8959063c17d53e27a3040670d9cbf8a95644e1"
	lang="ts"
/>

## Parallelization

Enables simultaneous task processing through sectioning or voting mechanisms.

![Figure 3: Parallelization](~/assets/images/agnets/04-parallel.png "Figure 3: Parallelization")

[**Interactive Demo**](https://patterns.agents.workers.dev)

<GitHubCode
	repo="cloudflare/agents"
	file="examples/anthropic-patterns/src/flows/03-parallel.txt"
	commit="3b8959063c17d53e27a3040670d9cbf8a95644e1"
	lang="ts"
/>

## Orchestrator-Workers

A central LLM dynamically breaks down tasks, delegates to worker LLMs, and synthesizes results.

![Figure 4: Orchestrator Workers](~/assets/images/agnets/04-orchestrator.png "Figure 4: Orchestrator Workers")

[**Interactive Demo**](https://patterns.agents.workers.dev)

<GitHubCode
	repo="cloudflare/agents"
	file="examples/anthropic-patterns/src/flows/04-orchestrator.txt"
	commit="3b8959063c17d53e27a3040670d9cbf8a95644e1"
	lang="ts"
/>

## Evaluator-Optimizer

One LLM generates responses while another provides evaluation and feedback in a loop.

![Figure 5: Evaluator-Optimizer](~/assets/images/agnets/05-evaluator.png "Figure 5: Evaluator-Optimizer")

[**Interactive Demo**](https://patterns.agents.workers.dev)

<GitHubCode
	repo="cloudflare/agents"
	file="examples/anthropic-patterns/src/flows/05-evaluator.txt"
	commit="3b8959063c17d53e27a3040670d9cbf8a95644e1"
	lang="ts"
/>
